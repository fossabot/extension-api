<html>
<head>
    <title>Set YExtension userID</title>

	<style>
		body {
			padding: 15px;
			font-family: Helvetica, sans-serif;
			font-size: 14px;
		}
		button, input {
			border-radius: 4px;
			border: 1px solid #AAA;
			padding: 7px 13px;
		}
		button {
			border: 0;
			background-color: #C00848;
			color: #fff;
			outline: none;
		}
		button:focus,
		button:hover {
			background-color: #C9084C;
		}
	</style>

    <script src="yapi.js"></script>
    <script>
        // You will need your own account id!
        let ACCOUNT_ID = 'ce130c8a-59d0-11e8-8b04-34e6d76f3d48'

        function setExternalAgentIdOrInstall() {
            let yticaid = document.querySelector("#yticaid").value;
            try {
                Ytica.setExternalAgentIdOrInstall(ACCOUNT_ID, yticaid);
            } catch(err) {
                console.error(err);
            }
        }

        function setExternalAgentIdOrIgnore() {
            let yticaid = document.querySelector("#yticaid").value;
            try {
                Ytica.setExternalAgentIdOrIgnore(yticaid);
            } catch(err) {
                console.error(err);
            }
        }

        window.onload = function() {
            /*
                // This helps extension developers :-)
                let extid = document.location.hash.replace("#", "");
                if (extid.length > 30) {
                    Ytica.YTICA_EXTENSION_ID = extid;
                }
            */

            // Ytica API must be initialized in window.onload!
            Ytica.init();
        };
    </script>
</head>
<body>
    <div>
        AgentID: <input id="yticaid">
    </div>
    <br/>
    <button onclick="setExternalAgentIdOrInstall();">Set AgentId or install</button>
    <button onclick="setExternalAgentIdOrIgnore();">Set AgentId or ignore</button>
</body>
</html>

