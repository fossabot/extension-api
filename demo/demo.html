<html>
<head>
    <title>Set YExtension userID</title>
    <script src="yapi.js"></script>
    <script>
        // You will need your own account id!
        let ACCOUNT_ID = 'ce130c8a-59d0-11e8-8b04-34e6d76f3d48'

        function setExternalAgentIdOrInstall() {
            let yticaid = document.querySelector("#yticaid").value;
            try {
                Ytica.setExternalAgentIdOrInstall(ACCOUNT_ID, yticaid);
            } catch(err) {
                console.error(err);
            }
        }

        function setExternalAgentIdOrIgnore() {
            let yticaid = document.querySelector("#yticaid").value;
            try {
                Ytica.setExternalAgentIdOrIgnore(yticaid);
            } catch(err) {
                console.error(err);
            }
        }

        window.onload = function() {
            /*
                // This helps extension developers :-)
                let extid = document.location.hash.replace("#", "");
                if (extid.length > 30) {
                    Ytica.YTICA_EXTENSION_ID = extid;
                }
            */

            // Ytica API must be initialized in window.onload!
            Ytica.init();
        };
    </script>
</head>
<body>
    <div>
        AgentID: <input id="yticaid">
    </div>
    <br/>
    <button onclick="setExternalAgentIdOrInstall();">Set AgentId or install</button>
    <button onclick="setExternalAgentIdOrIgnore();">Set AgentId or ignore</button>
</body>
</html>

